// Z indexes
$zIndexPieces: 0; // Lets say 0-100 for pieces
$zIndexPieceActive: 101;
$zIndexMoves: 102;

// Animations
$pieceMoveAnimation: 500ms ease;
$pieceFadeAnimation: 1000ms ease;
$tileFadeAnimation: 1500ms ease;

// Colors
$color-black: #302e2d;
$color-red: #9b414a;
$color-beige: #f2e7de;

// Sizes
$tile-border-radius: 15%;
$tile-default-scale: 0.9;
$move-highlight-size: 10px;

html, body{
	background-color:#878787;
}

.turn-hint{
	height: 100px;
	width: 200px;
	border: 1px solid $color-black;

	&.red{
		background-color: $color-red;
	}

	&.black{
		background-color: $color-black;
	}
}

.game-area{
	display: flex;
    justify-content: center;
}

.board{

	// Constants
	$height: 5;
	$width: 5;

	// Common
	$tileHeightPercent: calc(100% / $height);
	$tileWidthPercent: calc(100% / $width);

	display: inline-block;
	position: relative;

	$minBoardSizePixels: 300px;
	$maxBoardSizePixels: 900px;
	min-height: $minBoardSizePixels;
	min-width: $minBoardSizePixels;
	max-width: $maxBoardSizePixels;
	max-height: $maxBoardSizePixels;

	width: 50%;

	// Position pieces and tiles based on x/y
	piece, tile, move{
			display: inline-block;

			height: $tileHeightPercent;
			width: $tileWidthPercent;

			position: absolute !important;
			@for $x from 0 through $width {
				&[data-x='#{$x}']{
					left: #{$x * $tileWidthPercent};
				}
			}
			@for $y from 0 through $height {
				&[data-y='#{$y}']{
					top: #{100% - ($y + 1) * $tileHeightPercent};
				}
			}

			position: relative;
			text-align: center;
	}

	&:after {
		content: "";
		display: block;
		padding-bottom: 100%;
	}

	.tiles{
		tile{

			border: 1px solid $color-black;	
			background-color: $color-beige;
			border-radius: $tile-border-radius;
			transform-origin: center center;

			// Style in-play tiles
			&[data-in-play="true"]{
				transform: scale($tile-default-scale);
				opacity: 1.0;
			}

			// Style removed tiles
			&[data-in-play="false"]{
				opacity: 0.0;
				transform: scale(0.1);
				border: none !important;
			}

			transition: 
				opacity #{$tileFadeAnimation},
				transform #{$tileFadeAnimation};
		}
	}

	.pieces{
		position: absolute;
		height: 100%;
		width: 100%;		
		piece{

			border-radius: 50%;

			border: 1px solid $color-black;

			transform-origin: center center;

			// Style pieces by owner
			&[data-owner="black"]{
				background-color: $color-black;
			}
			&[data-owner="red"]{
				background-color: $color-red;
			}

			// Style pieces by height
			&[data-height="1"]{
				transform: scale(0.7);
				z-index: $zIndexPieces + 1;
			}
			&[data-height="2"]{
				z-index: $zIndexPieces + 2;
				transform: scale(0.5);
			}
			&[data-height="3"]{
				z-index: $zIndexPieces + 3;
				transform: scale(0.3);
			}

			// Style pieces by abilit to move right now
			&[data-can-move="true"]{
				cursor: pointer;
			}
			&[data-can-move="false"]{
				cursor: not-allowed;
			}

			// Style in-play pieces
			&[data-in-play="true"]{
				
			}

			// Style removed pieces
			&[data-in-play="false"]{
				opacity: 0.0 !important;
				transform: scale(0.0);
				border: none !important;
			}

			transition: 
				top #{$pieceMoveAnimation}, 
				left #{$pieceMoveAnimation},
				opacity #{$pieceFadeAnimation},
				transform #{$pieceMoveAnimation};

			&.last-active-piece{
				z-index: $zIndexPieceActive;
			}

			&[data-can-move="false"]{
				opacity: 0.5;
			}
			
		}
	}

	.moves{

		move{
			z-index: $zIndexMoves;
			cursor: pointer;
			transform: scale($tile-default-scale + 0.02);

			border-radius: $tile-border-radius;


			&[data-owner="black"]{	
				box-shadow: inset 0 0 0 $move-highlight-size $color-black;
			}
			&[data-owner="red"]{
				box-shadow: inset 0 0 0 $move-highlight-size $color-red;
			}
		}

	}

}